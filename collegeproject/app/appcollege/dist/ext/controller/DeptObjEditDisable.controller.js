sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("appcollege.ext.controller.DeptObjEditDisable",{override:{onBeforeRendering:async function(){debugger;var e=this.base.getExtensionAPI().getModel();if(!e){console.error("Model is not available.");return}var r;var t="krishna.vamsi@peolsolutions.com";if(typeof e.getServiceUrl==="function"){r=e.getServiceUrl();console.log("Service URL:",r)}else{console.error("Unable to determine the service URL.");return}try{const e=await new Promise((e,t)=>{jQuery.ajax({url:r+"/Department",method:"GET",dataType:"json",success:function(r){e(r)},error:function(e,r,n){t(new Error(r+": "+n))}})});const o=await new Promise((e,t)=>{jQuery.ajax({url:r+"/Permission",method:"GET",dataType:"json",success:function(r){e(r)},error:function(e,r,n){t(new Error(r+": "+n))}})});console.log("Department data:",e);console.log("Permission data:",o);const s=e.value;const i=o.value;debugger;if(i&&i.length>0){for(let e of i){if(e.userEmail===t){var n=e.user}}}debugger;const a=window.location.href;console.log("Current URL:",a);const c=new URL(a);const l=c.hash.substring(1);const u=/Department\(deptId='([^']*)'/.exec(l);const d=u?u[1]:null;debugger;if(d!==n){this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Delete")){e.setVisible(false)}else if(e.getId().includes("Edit")){e.setEnabled(false)}})}}catch(e){console.error("Error fetching data",e)}}}})});
//# sourceMappingURL=DeptObjEditDisable.controller.js.map